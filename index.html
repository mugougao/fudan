<!doctype html>
<html lang="">
  <head>
    <meta charset="UTF-8" />
    <script type="text/javascript">
      !(function (t, e, n, a, r) {
        var c = "__ty_web_inject_guard",
          i = "__ty_web_tpl_guard",
          o = "https:",
          s = "http:",
          d = "//";
        function g() {
          try {
            var t = [].slice.call(arguments);
            g.q.push(t);
          } catch (e) {}
        }
        function f(t) {
          var e,
            a = "tingyun_agent",
            r = n.getElementsByTagName("head")[0];
          !n.getElementById(a) &&
            r &&
            (((e = n.createElement("script")).id = a),
            (e.async = !0),
            (e.crossorigin = "anonymous"),
            (e.src = t),
            r.appendChild(e));
        }
        try {
          if (!e[i]) {
            ((g.q = []), (e[a] = g), (e.TINGYUN_COOKIE_VALUE = n.cookie));
            var h = "TINGYUN_DATA=; expires=Thu, 01 Jan 1970 00:00:01 GMT;";
            ((n.cookie = h), (n.cookie = "".concat(h, "path=/")), (e[i] = !0));
          }
          if (!e[c]) {
            if (!/(MSIE [0-6].\\d+)/.test(e.navigator.userAgent)) {
              var y = {};
              t(y);
              var _,
                u,
                v = y.config || {};
              try {
                _ = e.location.protocol;
              } catch (m) {}
              var p = v.addr;
              if (
                (p
                  ? (u = _ === o ? p.https : _ === s ? p.http : p.other)
                  : 0 !== (u = r || "").indexOf(o + d) &&
                    0 !== u.indexOf(s + d) &&
                    (0 === u.indexOf(d) && (u = u.substring(2)), u && (_ !== o && _ !== s && (_ = o), (u = _ + d + u))),
                u)
              )
                n.getElementsByTagName("head")[0]
                  ? (f(u), (e[c] = !0))
                  : e.addEventListener &&
                    (e.addEventListener("DOMContentLoaded", function () {
                      try {
                        f(u);
                      } catch (m) {}
                    }),
                    (e[c] = !0));
            }
            try {
              if ("PerformanceLongTaskTiming" in e) {
                var T = "entries",
                  l = (g.po = {});
                l[T] = [];
                var E = (l.observer = new PerformanceObserver(function (t) {
                  try {
                    l[T] && (l[T] = l[T].concat(t.getEntries()));
                  } catch (t) {}
                }));
                E.observe({ entryTypes: ["longtask"] });
              }
            } catch (m) {}
          }
        } catch (m) {}
      })(function (ty_tpl) {}, window, document, "TingyunWeb", "mon-mp.fudan.edu.cn/js/5wu-IlBr3DA.js");
    </script>
    <link rel="icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="pragma" content="no-cache" />
    <meta http-equiv="cache-control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="expires" content="0" />
    <title><%= title %></title>
    <script defer src="/utils.js"></script>
    <script defer src="/config_dev.js"></script>
  </head>
  <body>
    <div id="app">
      <div class="loader"></div>
      <style>
        body {
          background: #030712;
        }

        .loader {
          --c1: #673b14;
          --c2: #f8b13b;
          position: fixed;
          left: 50%;
          top: 50%;
          margin-left: -20px;
          margin-top: -40px;
          width: 40px;
          height: 80px;
          border-top: 4px solid var(--c1);
          border-bottom: 4px solid var(--c1);
          background: linear-gradient(90deg, var(--c1) 2px, var(--c2) 0 5px, var(--c1) 0) 50%/7px 8px no-repeat;
          display: grid;
          overflow: hidden;
          animation: l5-0 2s infinite linear;
        }

        .loader::before,
        .loader::after {
          content: "";
          grid-area: 1/1;
          width: 75%;
          height: calc(50% - 4px);
          margin: 0 auto;
          border: 2px solid var(--c1);
          border-top: 0;
          box-sizing: content-box;
          border-radius: 0 0 40% 40%;
          -webkit-mask:
            linear-gradient(#000 0 0) bottom / 4px 2px no-repeat,
            linear-gradient(#000 0 0);
          -webkit-mask-composite: destination-out;
          mask-composite: exclude;
          background:
            linear-gradient(var(--d, 0deg), var(--c2) 50%, #0000 0) bottom / 100% 205%,
            linear-gradient(var(--c2) 0 0) center/0 100%;
          background-repeat: no-repeat;
          animation: inherit;
          animation-name: l5-1;
        }

        .loader::after {
          transform-origin: 50% calc(100% + 2px);
          transform: scaleY(-1);
          --s: 3px;
          --d: 180deg;
        }

        @keyframes l5-0 {
          80% {
            transform: rotate(0);
          }
          100% {
            transform: rotate(0.5turn);
          }
        }

        @keyframes l5-1 {
          10%,
          70% {
            background-size:
              100% 205%,
              var(--s, 0) 100%;
          }
          70%,
          100% {
            background-position: top, center;
          }
        }
      </style>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
  <script>
    window.addEventListener("error", function (e) {
      console.error("全局错误:", e.error);
    });

    window.addEventListener("unhandledrejection", function (e) {
      console.error("未处理的Promise拒绝:", e.reason);
    });
  </script>
</html>
